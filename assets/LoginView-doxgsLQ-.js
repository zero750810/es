import{a,r as e,f as l,g as s,y as o,j as i,z as r,A as d,t as u,b as t,o as n}from"./vue-B-cAkLc6.js";import{u as p,_ as v}from"./index-BVk54o67.js";import"./vendor-C7jwa7K6.js";const m={class:"login-container"},c={class:"login-card"},b={class:"form-group"},f=["disabled"],g={class:"form-group"},w=["disabled"],y={key:0,class:"error-message"},h=["disabled"],_=v(a({__name:"LoginView",setup(a){const v=t(),_=p(),j=e(!1),V=e(""),q=e({email:"",password:""}),x=async()=>{j.value=!0,V.value="";try{await _.login(q.value.email,q.value.password),v.push("/")}catch(a){V.value=a instanceof Error?a.message:"登入失敗，請檢查您的帳號密碼"}finally{j.value=!1}};return(a,e)=>(n(),l("div",m,[s("div",c,[e[4]||(e[4]=s("div",{class:"login-header"},[s("h1",null,"活動公司 ERP 系統"),s("p",null,"請登入您的帳號")],-1)),s("form",{onSubmit:o(x,["prevent"]),class:"login-form"},[s("div",b,[e[2]||(e[2]=s("label",{for:"email"},"電子郵件",-1)),r(s("input",{id:"email","onUpdate:modelValue":e[0]||(e[0]=a=>q.value.email=a),type:"email",required:"",disabled:j.value,placeholder:"請輸入您的電子郵件",autocomplete:"email"},null,8,f),[[d,q.value.email]])]),s("div",g,[e[3]||(e[3]=s("label",{for:"password"},"密碼",-1)),r(s("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=a=>q.value.password=a),type:"password",required:"",disabled:j.value,placeholder:"請輸入您的密碼",autocomplete:"current-password"},null,8,w),[[d,q.value.password]])]),V.value?(n(),l("div",y,u(V.value),1)):i("",!0),s("button",{type:"submit",class:"login-btn",disabled:j.value},u(j.value?"登入中...":"登入"),9,h)],32),e[5]||(e[5]=s("div",{class:"login-footer"},[s("p",null,"忘記密碼？請聯繫系統管理員")],-1))])]))}}),[["__scopeId","data-v-7679e052"]]);export{_ as default};
